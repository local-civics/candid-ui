"use strict";(self.webpackChunk_local_civics_candid_ui=self.webpackChunk_local_civics_candid_ui||[]).push([[253],{"./stories/AssignmentListPage.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Archived:()=>Archived,AssignedToMe:()=>AssignedToMe,NoAssignments:()=>NoAssignments,WithAssignments:()=>WithAssignments,__namedExportsOrder:()=>__namedExportsOrder,default:()=>AssignmentListPage_stories});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-router/dist/index.js"),AppLayout=__webpack_require__("./src/layouts/app/AppLayout.tsx"),use_form=__webpack_require__("./node_modules/@mantine/form/esm/use-form.js"),events=__webpack_require__("./node_modules/@mantine/modals/esm/events.js"),create_styles=__webpack_require__("./node_modules/@mantine/styles/esm/tss/create-styles.js"),rem=__webpack_require__("./node_modules/@mantine/styles/esm/theme/utils/rem/rem.js"),MantineProvider=__webpack_require__("./node_modules/@mantine/styles/esm/theme/MantineProvider.js"),Card=__webpack_require__("./node_modules/@mantine/core/esm/Card/Card.js"),Group=__webpack_require__("./node_modules/@mantine/core/esm/Group/Group.js"),Text=__webpack_require__("./node_modules/@mantine/core/esm/Text/Text.js"),Menu=__webpack_require__("./node_modules/@mantine/core/esm/Menu/Menu.js"),ActionIcon=__webpack_require__("./node_modules/@mantine/core/esm/ActionIcon/ActionIcon.js"),Tooltip=__webpack_require__("./node_modules/@mantine/core/esm/Tooltip/Tooltip.js"),Modal=__webpack_require__("./node_modules/@mantine/core/esm/Modal/Modal.js"),Container=__webpack_require__("./node_modules/@mantine/core/esm/Container/Container.js"),Stack=__webpack_require__("./node_modules/@mantine/core/esm/Stack/Stack.js"),Title=__webpack_require__("./node_modules/@mantine/core/esm/Title/Title.js"),Divider=__webpack_require__("./node_modules/@mantine/core/esm/Divider/Divider.js"),Button=__webpack_require__("./node_modules/@mantine/core/esm/Button/Button.js"),Flex=__webpack_require__("./node_modules/@mantine/core/esm/Flex/Flex.js"),TextInput=__webpack_require__("./node_modules/@mantine/core/esm/TextInput/TextInput.js"),IconDotsVertical=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconDotsVertical.js"),IconAbc=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconAbc.js"),IconArchive=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconArchive.js"),IconFocusCentered=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconFocusCentered.js"),IconPresentationAnalytics=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconPresentationAnalytics.js"),IconUserEdit=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconUserEdit.js"),IconWorldShare=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconWorldShare.js"),IconLayoutKanban=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconLayoutKanban.js"),IconPlus=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconPlus.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const useStyles=(0,create_styles.k)((theme=>({wrapper:{display:"flex",alignItems:"center",borderRadius:theme.radius.md,backgroundColor:"dark"===theme.colorScheme?theme.colors.dark[8]:theme.white,border:`1px solid ${"dark"===theme.colorScheme?theme.colors.dark[8]:theme.colors.gray[3]}`,[`@media (max-width: ${theme.breakpoints.sm}px)`]:{flexDirection:"column-reverse",padding:theme.spacing.xl}},title:{fontFamily:`Greycliff CF, ${theme.fontFamily}`,textAlign:"center",fontWeight:900,fontSize:(0,rem.h)(100),maxWidth:"50rem",lineHeight:1,marginBottom:`calc(${theme.spacing.xl} * 1.5)`,color:"dark"===theme.colorScheme?theme.colors.dark[4]:theme.colors.gray[2],[theme.fn.smallerThan("sm")]:{fontSize:(0,rem.h)(50)}}})));function PlaceholderBanner(props){const{classes}=useStyles();return(0,jsx_runtime.jsx)(Group.Z,{spacing:20,p:50,className:classes.wrapper,children:(0,jsx_runtime.jsx)("div",{className:classes.title,children:props.title})})}PlaceholderBanner.displayName="PlaceholderBanner";try{PlaceholderBanner.displayName="PlaceholderBanner",PlaceholderBanner.__docgenInfo={description:"PlaceholderBanner",displayName:"PlaceholderBanner",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/placeholder/PlaceholderBanner.tsx#PlaceholderBanner"]={docgenInfo:PlaceholderBanner.__docgenInfo,name:"PlaceholderBanner",path:"src/components/placeholder/PlaceholderBanner.tsx#PlaceholderBanner"})}catch(__react_docgen_typescript_loader_error){}var TransferList=__webpack_require__("./node_modules/@mantine/core/esm/TransferList/TransferList.js");function AssignmentTransferList(props){const[data,setData]=react.useState(props.data);return(0,jsx_runtime.jsx)(TransferList.J,{miw:200,value:data,onChange:next=>{setData(next),props.onChange&&props.onChange(next)},searchPlaceholder:"Search",titles:["Options","Assignees"],listHeight:300,breakpoint:"sm",filter:(query,item)=>item.label.toLowerCase().includes(query.toLowerCase().trim())})}AssignmentTransferList.displayName="AssignmentTransferList";try{AssignmentTransferList.displayName="AssignmentTransferList",AssignmentTransferList.__docgenInfo={description:"AssignmentTransferList",displayName:"AssignmentTransferList",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"TransferListData"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((next: TransferListData) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/assignment/AssignmentTransferList.tsx#AssignmentTransferList"]={docgenInfo:AssignmentTransferList.__docgenInfo,name:"AssignmentTransferList",path:"src/pages/assignment/AssignmentTransferList.tsx#AssignmentTransferList"})}catch(__react_docgen_typescript_loader_error){}const AssignmentListPage_useStyles=(0,create_styles.k)((theme=>({card:{backgroundColor:"dark"===theme.colorScheme?theme.colors.dark[7]:theme.white,height:"max-content",width:"20rem"},section:{borderBottom:`${(0,rem.h)(1)} solid ${"dark"===theme.colorScheme?theme.colors.dark[4]:theme.colors.gray[3]}`,paddingLeft:theme.spacing.md,paddingRight:theme.spacing.md,paddingBottom:theme.spacing.md}})));function AssignmentListPage(props){const theme=(0,MantineProvider.rZ)(),{classes}=AssignmentListPage_useStyles(),form=function useForm(props){const form=(0,use_form.c)({initialValues:{opened:!1,stage:0,node:void 0,name:"",assignees:props.assignees},transformValues:values=>({name:values.name,assignees:values.assignees})}),open=()=>form.setValues({...form.values,opened:!0}),close=()=>form.setValues({...form.values,opened:!1}),openStage=(stage,node)=>form.setValues({...form.values,opened:!0,stage,node}),previous=()=>openStage(form.values.stage-1),next=()=>openStage(form.values.stage+1),setAssignees=assignees=>form.setValues({...form.values,assignees}),submit=()=>{close(),form.reset(),props.onCreate&&props.onCreate(form.values.name,form.values.assignees)},cancel=()=>{close(),form.reset()};return{opened:form.values.opened,open,editAssignees:()=>openStage(1,(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(AssignmentTransferList,{data:form.values.assignees,onChange:assignees=>setAssignees(assignees)}),(0,jsx_runtime.jsxs)(Group.Z,{ml:"auto",w:"max-content",mt:"md",spacing:10,children:[(0,jsx_runtime.jsx)(Button.z,{variant:"outline",type:"button",onClick:cancel,children:"Cancel"}),(0,jsx_runtime.jsx)(Button.z,{type:"submit",onClick:()=>{close(),form.reset(),props.onUpdateAssignees&&props.onUpdateAssignees(form.values.assignees)},children:"Submit"})]})]})),children:()=>form.values.node?form.values.node:0===form.getInputProps("stage").value?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(TextInput.o,{miw:"25rem",label:"Assignment Name",placeholder:"Assignment Name",...form.getInputProps("name")}),(0,jsx_runtime.jsxs)(Group.Z,{ml:"auto",w:"max-content",mt:"md",spacing:10,children:[(0,jsx_runtime.jsx)(Button.z,{variant:"default",type:"button",onClick:cancel,children:"Cancel"}),(0,jsx_runtime.jsx)(Button.z,{disabled:!form.getInputProps("name").value,type:"button",onClick:next,children:"Next"})]})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(AssignmentTransferList,{data:form.values.assignees,onChange:assignees=>setAssignees(assignees)}),(0,jsx_runtime.jsxs)(Group.Z,{ml:"auto",w:"max-content",mt:"md",spacing:10,children:[(0,jsx_runtime.jsx)(Button.z,{variant:"outline",type:"button",onClick:previous,children:"Back"}),(0,jsx_runtime.jsx)(Button.z,{type:"submit",onClick:submit,children:"Submit"})]})]})}}(props),openAssignments=props.assignments.filter((v=>"open"===v.status)).map((v=>(0,jsx_runtime.jsxs)(Card.Z,{withBorder:!0,radius:"md",p:"md",className:classes.card,children:[(0,jsx_runtime.jsx)(Card.Z.Section,{sx:theme=>({backgroundSize:"cover",backgroundPosition:"center",backgroundImage:theme.fn.gradient({from:"blue.8",to:"blue.7",deg:20}),color:theme.white}),px:20,pt:20,pb:50,children:(0,jsx_runtime.jsxs)(Group.Z,{grow:!0,align:"start",position:"apart",spacing:0,children:[(0,jsx_runtime.jsx)(Text.x,{fz:"lg",maw:"initial",fw:500,children:v.title}),(0,jsx_runtime.jsxs)(Menu.v,{transitionProps:{transition:"pop"},withArrow:!0,position:"bottom-end",withinPortal:!0,children:[(0,jsx_runtime.jsx)(Menu.v.Target,{children:(0,jsx_runtime.jsx)(ActionIcon.A,{variant:"transparent",maw:"max-content",children:(0,jsx_runtime.jsx)(IconDotsVertical.Z,{color:"white",size:"1rem",stroke:1.5})})}),(0,jsx_runtime.jsxs)(Menu.v.Dropdown,{children:[(0,jsx_runtime.jsx)(Menu.v.Item,{icon:(0,jsx_runtime.jsx)(IconAbc.Z,{size:"1rem",stroke:1.5}),onClick:()=>{events.qk.open({title:"Rename assignment",centered:!0,children:(0,jsx_runtime.jsx)(RenameAssignment,{...props,data:v})})},children:"Rename"}),(0,jsx_runtime.jsx)(Menu.v.Item,{color:"red",icon:(0,jsx_runtime.jsx)(IconArchive.Z,{size:"1rem",stroke:1.5}),onClick:()=>{events.qk.openConfirmModal({title:"Archive assignment",centered:!0,children:(0,jsx_runtime.jsx)(Text.x,{size:"sm",children:"Are you sure you want to archive your assignment? You will no longer be able to track progress on it."}),labels:{confirm:"Archive assignment",cancel:"No don't archive it"},confirmProps:{color:"red"},onConfirm:()=>props.onArchive&&props.onArchive(v)})},children:"Archive"})]})]})]})}),(0,jsx_runtime.jsx)(Card.Z.Section,{className:classes.section,mt:"md",children:(0,jsx_runtime.jsxs)(Group.Z,{spacing:20,children:[(0,jsx_runtime.jsx)(Tooltip.u,{label:"Open assignment",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:()=>props.onOpen&&props.onOpen(v),color:"blue",children:(0,jsx_runtime.jsx)(IconFocusCentered.Z,{})})}),(0,jsx_runtime.jsx)(Tooltip.u,{label:"View progress",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:()=>props.onViewProgress&&props.onViewProgress(v),color:"blue",children:(0,jsx_runtime.jsx)(IconPresentationAnalytics.Z,{})})}),(0,jsx_runtime.jsx)(Tooltip.u,{label:"Edit assignees",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:form.editAssignees,color:"blue",children:(0,jsx_runtime.jsx)(IconUserEdit.Z,{})})}),(0,jsx_runtime.jsx)(Tooltip.u,{label:"Generate public link",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:()=>props.onGeneratePublicLink&&props.onGeneratePublicLink(v),color:"blue",children:(0,jsx_runtime.jsx)(IconWorldShare.Z,{})})})]})})]}))),assignedToMe=props.assignments.filter((v=>"assigned to me"===v.status)).map((v=>(0,jsx_runtime.jsxs)(Card.Z,{withBorder:!0,radius:"md",p:"md",className:classes.card,children:[(0,jsx_runtime.jsx)(Card.Z.Section,{sx:theme=>({backgroundSize:"cover",backgroundPosition:"center",backgroundImage:theme.fn.gradient({from:"blue.8",to:"blue.7",deg:20}),color:theme.white}),px:20,pt:20,pb:50,children:(0,jsx_runtime.jsx)(Group.Z,{grow:!0,align:"start",position:"apart",spacing:0,children:(0,jsx_runtime.jsx)(Text.x,{fz:"lg",maw:"initial",fw:500,children:v.title})})}),(0,jsx_runtime.jsx)(Card.Z.Section,{className:classes.section,mt:"md",children:(0,jsx_runtime.jsx)(Group.Z,{spacing:20,children:(0,jsx_runtime.jsx)(Tooltip.u,{label:"Open assignment",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:()=>props.onOpen&&props.onOpen(v),color:"blue",children:(0,jsx_runtime.jsx)(IconFocusCentered.Z,{})})})})})]}))),archivedAssignments=props.assignments.filter((v=>"archived"===v.status)).map((v=>(0,jsx_runtime.jsxs)(Card.Z,{withBorder:!0,radius:"md",p:"md",className:classes.card,children:[(0,jsx_runtime.jsx)(Card.Z.Section,{sx:theme=>({backgroundSize:"cover",backgroundPosition:"center",backgroundImage:theme.fn.gradient({from:"blue.8",to:"blue.7",deg:20}),color:theme.white}),px:20,pt:20,pb:50,children:(0,jsx_runtime.jsx)(Group.Z,{grow:!0,align:"start",position:"apart",spacing:0,children:(0,jsx_runtime.jsx)(Text.x,{fz:"lg",maw:"initial",fw:500,children:v.title})})}),(0,jsx_runtime.jsx)(Card.Z.Section,{className:classes.section,mt:"md",children:(0,jsx_runtime.jsx)(Group.Z,{spacing:20,children:(0,jsx_runtime.jsx)(Tooltip.u,{label:"Open assignment",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:()=>props.onOpen&&props.onOpen(v),color:"blue",children:(0,jsx_runtime.jsx)(IconFocusCentered.Z,{})})})})})]})));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Modal.u,{opened:form.opened,onClose:close,size:"auto",withCloseButton:!1,centered:!0,children:form.children()}),(0,jsx_runtime.jsx)(Container.W,{size:"lg",pb:"xl",children:(0,jsx_runtime.jsxs)(Stack.K,{spacing:10,children:[(0,jsx_runtime.jsxs)(Group.Z,{children:[(0,jsx_runtime.jsx)(IconLayoutKanban.Z,{color:theme.colors.dark[4]}),(0,jsx_runtime.jsx)(Title.D,{color:"dark.4",children:"Assignments"})]}),(0,jsx_runtime.jsx)(Divider.i,{}),(0,jsx_runtime.jsx)(Button.z,{onClick:form.open,maw:"max-content",variant:"subtle",leftIcon:(0,jsx_runtime.jsx)(IconPlus.Z,{}),children:"New assignment"}),(0,jsx_runtime.jsx)(Flex.k,{mt:10,gap:15,children:openAssignments}),(0,jsx_runtime.jsx)(Title.D,{mt:40,underline:!0,size:"sm",color:"dark.4",children:"Assigned to me"}),(0,jsx_runtime.jsxs)(Flex.k,{mt:10,gap:15,children:[!!assignedToMe.length&&assignedToMe,!assignedToMe.length&&(0,jsx_runtime.jsx)(PlaceholderBanner,{title:"Nothing assigned"})]}),(0,jsx_runtime.jsx)(Title.D,{mt:40,underline:!0,size:"sm",color:"dark.4",children:"Archived"}),(0,jsx_runtime.jsxs)(Flex.k,{mt:10,gap:15,children:[!!archivedAssignments.length&&archivedAssignments,!archivedAssignments.length&&(0,jsx_runtime.jsx)(PlaceholderBanner,{title:"Nothing archived"})]})]})})]})}function RenameAssignment(props){const[newName,setNewName]=react.useState("");return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(TextInput.o,{label:"New name",defaultValue:props.data.title,placeholder:"Assignment name","data-autofocus":!0,onChange:e=>setNewName(e.target.value)}),(0,jsx_runtime.jsx)(Button.z,{fullWidth:!0,onClick:()=>((data,newName)=>{props.onRename&&props.onRename(data,newName),setNewName(""),events.qk.closeAll()})(props.data,newName),mt:"md",children:"Rename"})]})}try{AssignmentListPage.displayName="AssignmentListPage",AssignmentListPage.__docgenInfo={description:"AssignmentListPage",displayName:"AssignmentListPage",props:{assignees:{defaultValue:null,description:"",name:"assignees",required:!0,type:{name:"TransferListData"}},assignments:{defaultValue:null,description:"",name:"assignments",required:!0,type:{name:"AssignmentData[]"}},onCreate:{defaultValue:null,description:"",name:"onCreate",required:!1,type:{name:"((name: string, assignees: TransferListData) => void)"}},onRename:{defaultValue:null,description:"",name:"onRename",required:!1,type:{name:"((data: AssignmentData, newName: string) => void)"}},onArchive:{defaultValue:null,description:"",name:"onArchive",required:!1,type:{name:"((data: AssignmentData) => void)"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"((data: AssignmentData) => void)"}},onViewProgress:{defaultValue:null,description:"",name:"onViewProgress",required:!1,type:{name:"((data: AssignmentData) => void)"}},onUpdateAssignees:{defaultValue:null,description:"",name:"onUpdateAssignees",required:!1,type:{name:"((newAssignees: TransferListData) => void)"}},onGeneratePublicLink:{defaultValue:null,description:"",name:"onGeneratePublicLink",required:!1,type:{name:"((data: AssignmentData) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/assignment/AssignmentListPage.tsx#AssignmentListPage"]={docgenInfo:AssignmentListPage.__docgenInfo,name:"AssignmentListPage",path:"src/pages/assignment/AssignmentListPage.tsx#AssignmentListPage"})}catch(__react_docgen_typescript_loader_error){}const MOCK_ASSIGMENT_DATA=[{title:"Assignment #1",status:"open"},{title:"Assignment #2",status:"open"},{title:"Assignment #3",status:"assigned to me"},{title:"Assignment #4",status:"assigned to me"},{title:"Assignment #5",status:"archived"},{title:"Assignment #6",status:"archived"}],AssignmentListPage_stories={title:"AssignmentListPage",component:AssignmentListPage,tags:["autodocs"],parameters:{layout:"fullscreen"}},Template={args:{assignees:[[{value:"react",label:"React",group:"Classes"},{value:"ng",label:"Angular",group:"Classes"},{value:"next",label:"Next.js",group:"Classes"},{value:"blitz",label:"Blitz.js",group:"Students"},{value:"gatsby",label:"Gatsby.js",group:"Students"},{value:"vue",label:"Vue",group:"Students"},{value:"jq",label:"jQuery",group:"Classes"}],[{value:"sv",label:"Svelte"},{value:"rw",label:"Redwood"},{value:"np",label:"NumPy"},{value:"dj",label:"Django"},{value:"fl",label:"Flask"}]],assignments:[]},render:args=>(0,jsx_runtime.jsx)("div",{className:"h-full w-full overscroll-none font-proxima",children:(0,jsx_runtime.jsx)(dist.VA,{children:(0,jsx_runtime.jsx)(AppLayout.L,{...args,page:(0,jsx_runtime.jsx)(AssignmentListPage,{...args})})})})},NoAssignments={...Template},WithAssignments={...Template,args:{...Template.args,assignments:MOCK_ASSIGMENT_DATA}},AssignedToMe={...Template,args:{...Template.args,assignments:MOCK_ASSIGMENT_DATA.filter((a=>"assigned to me"===a.status))}},Archived={...Template,args:{...Template.args,assignments:MOCK_ASSIGMENT_DATA.filter((a=>"archived"===a.status))}};NoAssignments.parameters={...NoAssignments.parameters,docs:{...NoAssignments.parameters?.docs,source:{originalSource:"{\n  ...Template\n}",...NoAssignments.parameters?.docs?.source}}},WithAssignments.parameters={...WithAssignments.parameters,docs:{...WithAssignments.parameters?.docs,source:{originalSource:"{\n  ...Template,\n  args: {\n    ...Template.args,\n    assignments: MOCK_ASSIGMENT_DATA\n  }\n}",...WithAssignments.parameters?.docs?.source}}},AssignedToMe.parameters={...AssignedToMe.parameters,docs:{...AssignedToMe.parameters?.docs,source:{originalSource:"{\n  ...Template,\n  args: {\n    ...Template.args,\n    assignments: MOCK_ASSIGMENT_DATA.filter(a => a.status === 'assigned to me')\n  }\n}",...AssignedToMe.parameters?.docs?.source}}},Archived.parameters={...Archived.parameters,docs:{...Archived.parameters?.docs,source:{originalSource:"{\n  ...Template,\n  args: {\n    ...Template.args,\n    assignments: MOCK_ASSIGMENT_DATA.filter(a => a.status === 'archived')\n  }\n}",...Archived.parameters?.docs?.source}}};const __namedExportsOrder=["NoAssignments","WithAssignments","AssignedToMe","Archived"]}}]);