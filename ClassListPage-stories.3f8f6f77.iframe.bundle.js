"use strict";(self.webpackChunk_local_civics_candid_ui=self.webpackChunk_local_civics_candid_ui||[]).push([[3017],{"./node_modules/@mantine/core/esm/PinInput/PinInput.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>PinInput});var react=__webpack_require__("./node_modules/react/index.js"),use_id=__webpack_require__("./node_modules/@mantine/hooks/esm/use-id/use-id.js"),use_uncontrolled=__webpack_require__("./node_modules/@mantine/hooks/esm/use-uncontrolled/use-uncontrolled.js"),MantineProvider=__webpack_require__("./node_modules/@mantine/styles/esm/theme/MantineProvider.js");function createPinArray(length,value){if(length<1)return[];const values=new Array(length).fill("");if(value){const splitted=value.trim().split("");for(let i=0;i<Math.min(length,splitted.length);i+=1)values[i]=splitted[i]}return values}var rem=__webpack_require__("./node_modules/@mantine/styles/esm/theme/utils/rem/rem.js"),create_styles=__webpack_require__("./node_modules/@mantine/styles/esm/tss/create-styles.js"),get_size=__webpack_require__("./node_modules/@mantine/styles/esm/theme/utils/get-size/get-size.js");const sizes={xs:(0,rem.h)(28),sm:(0,rem.h)(32),md:(0,rem.h)(36),lg:(0,rem.h)(40),xl:(0,rem.h)(48)};const PinInput_styles=(0,create_styles.k)(((_theme,_params,{size})=>({root:{},input:{width:(0,get_size.a)({size,sizes}),height:(0,get_size.a)({size,sizes}),textAlign:"center",minHeight:"auto",padding:0,lineHeight:(0,get_size.a)({size,sizes}),"&::selection":{background:"transparent"}}})));var Group=__webpack_require__("./node_modules/@mantine/core/esm/Group/Group.js"),Input=__webpack_require__("./node_modules/@mantine/core/esm/Input/Input.js"),__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a};const regex={number:/^[0-9]+$/,alphanumeric:/^[a-zA-Z0-9]+$/i},defaultProps={spacing:"sm",size:"sm",length:4,manageFocus:!0,placeholder:"â—‹",type:"alphanumeric"},PinInput=(0,react.forwardRef)(((props,ref)=>{const _a=(0,MantineProvider.N4)("PinInput",defaultProps,props),{name,form,className,value,defaultValue,variant,spacing,size,classNames,styles,unstyled,sx,length,onChange,onComplete,manageFocus,autoFocus,error,radius,disabled,oneTimeCode,placeholder,type,mask,"aria-label":ariaLabel,readOnly,inputType,inputMode}=_a,others=((source,exclude)=>{var target={};for(var prop in source)__hasOwnProp.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(null!=source&&__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(source))exclude.indexOf(prop)<0&&__propIsEnum.call(source,prop)&&(target[prop]=source[prop]);return target})(_a,["name","form","className","value","defaultValue","variant","spacing","size","classNames","styles","unstyled","sx","length","onChange","onComplete","manageFocus","autoFocus","error","radius","disabled","oneTimeCode","placeholder","type","mask","aria-label","readOnly","inputType","inputMode"]),uuid=(0,use_id.M)(name),{classes,cx}=PinInput_styles(null,{name:"PinInput",classNames,styles,unstyled,variant,size}),[focusedIndex,setFocusedIndex]=(0,react.useState)(-1),[_value,setValues]=(0,use_uncontrolled.C)({value,defaultValue,finalValue:"",onChange}),inputsRef=(0,react.useRef)([]),validate=code=>{const re=type instanceof RegExp?type:type in regex?regex[type]:null;return null==re?void 0:re.test(code)},focusInputField=(dir,index)=>{if(manageFocus){if("next"===dir){const nextIndex=index+1;inputsRef.current[nextIndex<length?nextIndex:index].focus()}if("prev"===dir){const nextIndex=index-1;inputsRef.current[nextIndex>-1?nextIndex:index].focus()}}},setFieldValue=(val,index)=>{const values=[...createPinArray(length,_value)];values[index]=val,setValues(values.join(""))},handleBlur=()=>{setFocusedIndex(-1)},handlePaste=event=>{event.preventDefault();const copyValue=event.clipboardData.getData("Text");validate(copyValue)&&setValues(copyValue)};return(0,react.useEffect)((()=>{_value.length===length&&(null==onComplete||onComplete(_value))}),[_value]),react.createElement(react.Fragment,null,react.createElement(Group.Z,__spreadValues({role:"group",spacing,ref,className:cx(classes.root,className),sx,unstyled,id:uuid,noWrap:!0},others),createPinArray(length,_value).map(((char,index)=>{return react.createElement(Input.I,{__staticSelector:"PinInput",id:`${uuid}-${index+1}`,key:`${uuid}-${index}`,inputMode:inputMode||("number"===type?"numeric":"text"),onChange:event=>((event,index)=>{const inputValue=event.target.value,nextChar=inputValue.length>1?inputValue.split("")[inputValue.length-1]:inputValue;validate(nextChar)?(setFieldValue(nextChar,index),focusInputField("next",index)):setFieldValue("",index)})(event,index),onKeyDown:event=>((event,index)=>{"Backspace"===event.key&&(""!==event.target.value?setFieldValue("",index):focusInputField("prev",index))})(event,index),onFocus:event=>((event,index)=>{event.target.select(),setFocusedIndex(index)})(event,index),onBlur:handleBlur,onPaste:handlePaste,type:inputType||(mask?"password":"number"===type?"tel":"text"),radius,error,variant,size,disabled,ref:node=>{inputsRef.current[index]=node},autoComplete:oneTimeCode?"one-time-code":"off",placeholder:focusedIndex===index?"":placeholder,value:char,autoFocus:autoFocus&&0===index,classNames:(a=__spreadValues({},classNames),b={input:cx(classes.input,null==classNames?void 0:classNames.input)},__defProps(a,__getOwnPropDescs(b))),styles,unstyled,"aria-label":ariaLabel,readOnly});var a,b}))),react.createElement("input",{type:"hidden",name,form,value:_value}))}));PinInput.displayName="@mantine/core/PinInput"},"./node_modules/@tabler/icons-react/dist/esm/icons/IconBarcode.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>IconBarcode});var IconBarcode=(0,__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/createReactComponent.js").Z)("barcode","IconBarcode",[["path",{d:"M4 7v-1a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 17v1a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-1",key:"svg-3"}],["path",{d:"M5 11h1v2h-1z",key:"svg-4"}],["path",{d:"M10 11l0 2",key:"svg-5"}],["path",{d:"M14 11h1v2h-1z",key:"svg-6"}],["path",{d:"M19 11l0 2",key:"svg-7"}]])},"./node_modules/@tabler/icons-react/dist/esm/icons/IconDoorExit.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>IconDoorExit});var IconDoorExit=(0,__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/createReactComponent.js").Z)("door-exit","IconDoorExit",[["path",{d:"M13 12v.01",key:"svg-0"}],["path",{d:"M3 21h18",key:"svg-1"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5",key:"svg-2"}],["path",{d:"M14 7h7m-3 -3l3 3l-3 3",key:"svg-3"}]])},"./stories/ClassListPage.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Archived:()=>Archived,Empty:()=>Empty,Joined:()=>Joined,WithClasses:()=>WithClasses,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ClassListPage_stories});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/react-router/dist/index.js"),AppLayout=__webpack_require__("./src/layouts/app/AppLayout.tsx"),create_styles=__webpack_require__("./node_modules/@mantine/styles/esm/tss/create-styles.js"),rem=__webpack_require__("./node_modules/@mantine/styles/esm/theme/utils/rem/rem.js"),MantineProvider=__webpack_require__("./node_modules/@mantine/styles/esm/theme/MantineProvider.js"),Card=__webpack_require__("./node_modules/@mantine/core/esm/Card/Card.js"),Group=__webpack_require__("./node_modules/@mantine/core/esm/Group/Group.js"),Text=__webpack_require__("./node_modules/@mantine/core/esm/Text/Text.js"),Menu=__webpack_require__("./node_modules/@mantine/core/esm/Menu/Menu.js"),ActionIcon=__webpack_require__("./node_modules/@mantine/core/esm/ActionIcon/ActionIcon.js"),Tooltip=__webpack_require__("./node_modules/@mantine/core/esm/Tooltip/Tooltip.js"),Modal=__webpack_require__("./node_modules/@mantine/core/esm/Modal/Modal.js"),Container=__webpack_require__("./node_modules/@mantine/core/esm/Container/Container.js"),Stack=__webpack_require__("./node_modules/@mantine/core/esm/Stack/Stack.js"),Flex=__webpack_require__("./node_modules/@mantine/core/esm/Flex/Flex.js"),Title=__webpack_require__("./node_modules/@mantine/core/esm/Title/Title.js"),Button=__webpack_require__("./node_modules/@mantine/core/esm/Button/Button.js"),Divider=__webpack_require__("./node_modules/@mantine/core/esm/Divider/Divider.js"),TextInput=__webpack_require__("./node_modules/@mantine/core/esm/TextInput/TextInput.js"),PinInput=__webpack_require__("./node_modules/@mantine/core/esm/PinInput/PinInput.js"),IconDotsVertical=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconDotsVertical.js"),IconAbc=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconAbc.js"),IconArchive=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconArchive.js"),IconMaximize=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconMaximize.js"),IconClipboardList=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconClipboardList.js"),IconUserEdit=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconUserEdit.js"),IconLink=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconLink.js"),IconDoorExit=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconDoorExit.js"),IconChalkboard=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconChalkboard.js"),IconBarcode=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconBarcode.js"),IconPlus=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconPlus.js"),events=__webpack_require__("./node_modules/@mantine/modals/esm/events.js"),PlaceholderBanner=__webpack_require__("./src/components/core/placeholder/PlaceholderBanner.tsx"),use_form=__webpack_require__("./node_modules/@mantine/form/esm/use-form.js"),DataTransferList=__webpack_require__("./src/components/core/data/DataTransferList.tsx"),SummaryGrid=__webpack_require__("./src/components/core/summary/SummaryGrid.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const useStyles=(0,create_styles.k)((theme=>({card:{backgroundColor:"dark"===theme.colorScheme?theme.colors.dark[7]:theme.white,height:"max-content",width:"20rem"},section:{borderBottom:`${(0,rem.h)(1)} solid ${"dark"===theme.colorScheme?theme.colors.dark[4]:theme.colors.gray[3]}`,paddingLeft:theme.spacing.md,paddingRight:theme.spacing.md,paddingBottom:theme.spacing.md}})));function ClassListPage(props){const theme=(0,MantineProvider.rZ)(),{classes}=useStyles(),form=function useForm(props){const form=(0,use_form.c)({initialValues:{opened:!1,stage:-1,node:void 0,name:"",members:props.data.members,code:""},transformValues:values=>({name:values.name,members:values.members})}),open=stage=>form.setValues({...form.values,opened:!0,stage}),close=()=>form.setValues({...form.values,opened:!1}),openStage=(stage,node)=>form.setValues({...form.values,opened:!0,stage,node}),previous=()=>openStage(form.values.stage-1),next=()=>openStage(form.values.stage+1),setMembers=members=>form.setValues({...form.values,members}),submit=()=>{close(),form.reset(),props.onCreate&&props.onCreate(form.values.name,form.values.members)},join=()=>{close(),form.reset(),props.onJoin&&props.onJoin(form.values.code)},cancel=()=>{close(),form.reset()};return{opened:form.values.opened,open,editMembers:()=>openStage(1,(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DataTransferList.q,{value:form.values.members,onChange:members=>setMembers(members)}),(0,jsx_runtime.jsxs)(Group.Z,{ml:"auto",w:"max-content",mt:"md",spacing:10,children:[(0,jsx_runtime.jsx)(Button.z,{variant:"outline",type:"button",onClick:cancel,children:"Cancel"}),(0,jsx_runtime.jsx)(Button.z,{type:"submit",onClick:()=>{close(),form.reset(),props.onUpdateMembers&&props.onUpdateMembers(form.values.members)},children:"Submit"})]})]})),children:()=>{if(form.values.node)return form.values.node;switch(form.getInputProps("stage").value){case 0:return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(TextInput.o,{miw:"25rem",label:"Class Name",placeholder:"Class Name",...form.getInputProps("name")}),(0,jsx_runtime.jsxs)(Group.Z,{ml:"auto",w:"max-content",mt:"md",spacing:10,children:[(0,jsx_runtime.jsx)(Button.z,{variant:"default",type:"button",onClick:cancel,children:"Cancel"}),(0,jsx_runtime.jsx)(Button.z,{disabled:!form.getInputProps("name").value,type:"button",onClick:next,children:"Next"})]})]});case 1:return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DataTransferList.q,{value:form.values.members,onChange:members=>setMembers(members)}),(0,jsx_runtime.jsxs)(Group.Z,{ml:"auto",w:"max-content",mt:"md",spacing:10,children:[(0,jsx_runtime.jsx)(Button.z,{variant:"outline",type:"button",onClick:previous,children:"Back"}),(0,jsx_runtime.jsx)(Button.z,{type:"submit",onClick:submit,children:"Submit"})]})]});case 2:return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Text.x,{size:14,pb:10,children:"Class code"}),(0,jsx_runtime.jsx)(PinInput.E,{...form.getInputProps("code"),length:6}),(0,jsx_runtime.jsxs)(Group.Z,{ml:"auto",w:"max-content",mt:"md",spacing:10,children:[(0,jsx_runtime.jsx)(Button.z,{variant:"default",type:"button",onClick:cancel,children:"Cancel"}),(0,jsx_runtime.jsx)(Button.z,{disabled:form.values.code.length<6,type:"submit",onClick:join,children:"Join"})]})]});default:return null}}}}(props),adminClasses=props.data.classes.filter((v=>"admin"===v.status)).map((v=>(0,jsx_runtime.jsxs)(Card.Z,{withBorder:!0,radius:"md",p:"md",className:classes.card,children:[(0,jsx_runtime.jsx)(Card.Z.Section,{sx:theme=>({backgroundSize:"cover",backgroundPosition:"center",backgroundImage:theme.fn.gradient({from:"blue.8",to:"blue.7",deg:20}),color:theme.white}),px:20,pt:20,pb:50,children:(0,jsx_runtime.jsxs)(Group.Z,{grow:!0,align:"start",position:"apart",spacing:0,children:[(0,jsx_runtime.jsx)(Text.x,{fz:"lg",maw:"initial",fw:500,children:v.name}),(0,jsx_runtime.jsxs)(Menu.v,{transitionProps:{transition:"pop"},withArrow:!0,position:"bottom-end",withinPortal:!0,children:[(0,jsx_runtime.jsx)(Menu.v.Target,{children:(0,jsx_runtime.jsx)(ActionIcon.A,{variant:"transparent",maw:"max-content",children:(0,jsx_runtime.jsx)(IconDotsVertical.Z,{color:"white",size:"1rem",stroke:1.5})})}),(0,jsx_runtime.jsxs)(Menu.v.Dropdown,{children:[(0,jsx_runtime.jsx)(Menu.v.Item,{icon:(0,jsx_runtime.jsx)(IconAbc.Z,{size:"1rem",stroke:1.5}),onClick:()=>{events.qk.open({title:"Rename Class",centered:!0,children:(0,jsx_runtime.jsx)(RenameClass,{...props,data:v})})},children:"Rename"}),(0,jsx_runtime.jsx)(Menu.v.Item,{color:"red",icon:(0,jsx_runtime.jsx)(IconArchive.Z,{size:"1rem",stroke:1.5}),onClick:()=>{events.qk.openConfirmModal({title:"Archive Class",centered:!0,children:(0,jsx_runtime.jsx)(Text.x,{size:"sm",children:"Are you sure you want to archive your class? You will no longer be able to track progress on it."}),labels:{confirm:"Archive Class",cancel:"No don't archive it"},confirmProps:{color:"red"},onConfirm:()=>props.onArchive&&props.onArchive(v)})},children:"Archive"})]})]})]})}),(0,jsx_runtime.jsx)(Card.Z.Section,{className:classes.section,mt:"md",children:(0,jsx_runtime.jsxs)(Group.Z,{spacing:20,children:[(0,jsx_runtime.jsx)(Tooltip.u,{label:"Open class",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:()=>props.onOpen&&props.onOpen(v),color:"blue",children:(0,jsx_runtime.jsx)(IconMaximize.Z,{})})}),(0,jsx_runtime.jsx)(Tooltip.u,{label:"Open assignments",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:()=>props.onOpenAssignments&&props.onOpenAssignments(v),color:"blue",children:(0,jsx_runtime.jsx)(IconClipboardList.Z,{})})}),(0,jsx_runtime.jsx)(Tooltip.u,{label:"Edit members",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:form.editMembers,color:"blue",children:(0,jsx_runtime.jsx)(IconUserEdit.Z,{})})}),(0,jsx_runtime.jsx)(Tooltip.u,{label:"Copy invite link",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:()=>props.onCopyInviteLink&&props.onCopyInviteLink(v),color:"blue",children:(0,jsx_runtime.jsx)(IconLink.Z,{})})})]})})]},v.name))),joined=props.data.classes.filter((v=>"member"===v.status)).map((v=>(0,jsx_runtime.jsxs)(Card.Z,{withBorder:!0,radius:"md",p:"md",className:classes.card,children:[(0,jsx_runtime.jsx)(Card.Z.Section,{sx:theme=>({backgroundSize:"cover",backgroundPosition:"center",backgroundImage:theme.fn.gradient({from:"blue.8",to:"blue.7",deg:20}),color:theme.white}),px:20,pt:20,pb:50,children:(0,jsx_runtime.jsxs)(Group.Z,{grow:!0,align:"start",position:"apart",spacing:0,children:[(0,jsx_runtime.jsx)(Text.x,{fz:"lg",maw:"initial",fw:500,children:v.name}),(0,jsx_runtime.jsxs)(Menu.v,{transitionProps:{transition:"pop"},withArrow:!0,position:"bottom-end",withinPortal:!0,children:[(0,jsx_runtime.jsx)(Menu.v.Target,{children:(0,jsx_runtime.jsx)(ActionIcon.A,{variant:"transparent",maw:"max-content",children:(0,jsx_runtime.jsx)(IconDotsVertical.Z,{color:"white",size:"1rem",stroke:1.5})})}),(0,jsx_runtime.jsx)(Menu.v.Dropdown,{children:(0,jsx_runtime.jsx)(Menu.v.Item,{color:"red",icon:(0,jsx_runtime.jsx)(IconDoorExit.Z,{size:"1rem",stroke:1.5}),onClick:()=>{events.qk.openConfirmModal({title:"Leave Class",centered:!0,children:(0,jsx_runtime.jsx)(Text.x,{size:"sm",children:"Are you sure you want to leave your class? You will no longer be able to work it's assignments."}),labels:{confirm:"Leave Class",cancel:"No don't leave"},confirmProps:{color:"red"},onConfirm:()=>props.onLeave&&props.onLeave(v)})},children:"Leave"})})]})]})}),(0,jsx_runtime.jsx)(Card.Z.Section,{className:classes.section,mt:"md",children:(0,jsx_runtime.jsx)(Group.Z,{spacing:20,children:(0,jsx_runtime.jsx)(Tooltip.u,{label:"Open assignments",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:()=>props.onOpenAssignments&&props.onOpenAssignments(v),color:"blue",children:(0,jsx_runtime.jsx)(IconClipboardList.Z,{})})})})})]},v.name))),archivedClasses=props.data.classes.filter((v=>"archived"===v.status)).map((v=>(0,jsx_runtime.jsxs)(Card.Z,{withBorder:!0,radius:"md",p:"md",className:classes.card,children:[(0,jsx_runtime.jsx)(Card.Z.Section,{sx:theme=>({backgroundSize:"cover",backgroundPosition:"center",backgroundImage:theme.fn.gradient({from:"blue.8",to:"blue.7",deg:20}),color:theme.white}),px:20,pt:20,pb:50,children:(0,jsx_runtime.jsx)(Group.Z,{grow:!0,align:"start",position:"apart",spacing:0,children:(0,jsx_runtime.jsx)(Text.x,{fz:"lg",maw:"initial",fw:500,children:v.name})})}),(0,jsx_runtime.jsx)(Card.Z.Section,{className:classes.section,mt:"md",children:(0,jsx_runtime.jsx)(Group.Z,{spacing:20,children:(0,jsx_runtime.jsx)(Tooltip.u,{label:"Open assignments",children:(0,jsx_runtime.jsx)(ActionIcon.A,{onClick:()=>props.onOpenAssignments&&props.onOpenAssignments(v),color:"blue",children:(0,jsx_runtime.jsx)(IconClipboardList.Z,{})})})})})]},v.name)));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Modal.u,{opened:form.opened,onClose:close,size:"auto",withCloseButton:!1,centered:!0,children:form.children()}),(0,jsx_runtime.jsx)(Container.W,{size:"lg",pb:"xl",children:(0,jsx_runtime.jsxs)(Stack.K,{spacing:10,children:[(0,jsx_runtime.jsxs)(Flex.k,{children:[(0,jsx_runtime.jsxs)(Group.Z,{w:"100%",children:[(0,jsx_runtime.jsx)(IconChalkboard.Z,{color:theme.colors.dark[4]}),(0,jsx_runtime.jsx)(Title.D,{color:"dark.4",children:"Classes"})]}),(0,jsx_runtime.jsx)(Button.z,{onClick:()=>form.open(2),maw:"max-content",variant:"subtle",leftIcon:(0,jsx_runtime.jsx)(IconBarcode.Z,{}),children:"Join"})]}),(0,jsx_runtime.jsx)(SummaryGrid.E,{data:props.data.summary}),(0,jsx_runtime.jsx)(Divider.i,{}),(0,jsx_runtime.jsx)(Button.z,{onClick:()=>form.open(0),maw:"max-content",variant:"subtle",leftIcon:(0,jsx_runtime.jsx)(IconPlus.Z,{}),children:"New class"}),(0,jsx_runtime.jsx)(Flex.k,{mt:10,gap:15,children:adminClasses}),(0,jsx_runtime.jsx)(Title.D,{mt:40,underline:!0,size:"sm",color:"dark.4",children:"Joined"}),(0,jsx_runtime.jsxs)(Flex.k,{mt:10,gap:15,children:[!!joined.length&&joined,!joined.length&&(0,jsx_runtime.jsx)(PlaceholderBanner.V,{title:"No joined classes"})]}),(0,jsx_runtime.jsx)(Title.D,{mt:40,underline:!0,size:"sm",color:"dark.4",children:"Archived"}),(0,jsx_runtime.jsxs)(Flex.k,{mt:10,gap:15,children:[!!archivedClasses.length&&archivedClasses,!archivedClasses.length&&(0,jsx_runtime.jsx)(PlaceholderBanner.V,{title:"No archived classes"})]})]})})]})}function RenameClass(props){const[newName,setNewName]=react.useState("");return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(TextInput.o,{label:"New name",defaultValue:props.data.name,placeholder:"Class name","data-autofocus":!0,onChange:e=>setNewName(e.target.value)}),(0,jsx_runtime.jsx)(Button.z,{fullWidth:!0,onClick:()=>((data,newName)=>{props.onRename&&props.onRename(data,newName),setNewName(""),events.qk.closeAll()})(props.data,newName),mt:"md",children:"Rename"})]})}try{ClassListPage.displayName="ClassListPage",ClassListPage.__docgenInfo={description:"ClassListPage",displayName:"ClassListPage",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ members: TransferListData; classes: ClassData[]; summary: SummaryData; }"}},onCreate:{defaultValue:null,description:"",name:"onCreate",required:!1,type:{name:"((name: string, members: TransferListData) => void)"}},onJoin:{defaultValue:null,description:"",name:"onJoin",required:!1,type:{name:"((code: string) => void)"}},onRename:{defaultValue:null,description:"",name:"onRename",required:!1,type:{name:"((data: ClassData, newName: string) => void)"}},onArchive:{defaultValue:null,description:"",name:"onArchive",required:!1,type:{name:"((data: ClassData) => void)"}},onLeave:{defaultValue:null,description:"",name:"onLeave",required:!1,type:{name:"((data: ClassData) => void)"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"((data: ClassData) => void)"}},onOpenAssignments:{defaultValue:null,description:"",name:"onOpenAssignments",required:!1,type:{name:"((data: ClassData) => void)"}},onUpdateMembers:{defaultValue:null,description:"",name:"onUpdateMembers",required:!1,type:{name:"((newMembers: TransferListData) => void)"}},onCopyInviteLink:{defaultValue:null,description:"",name:"onCopyInviteLink",required:!1,type:{name:"((data: ClassData) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/class/ClassListPage.tsx#ClassListPage"]={docgenInfo:ClassListPage.__docgenInfo,name:"ClassListPage",path:"src/pages/class/ClassListPage.tsx#ClassListPage"})}catch(__react_docgen_typescript_loader_error){}const MOCK_DATA={members:[[{value:"react",label:"React"},{value:"ng",label:"Angular"},{value:"next",label:"Next.js"},{value:"blitz",label:"Blitz.js"},{value:"gatsby",label:"Gatsby.js"},{value:"vue",label:"Vue"},{value:"jq",label:"jQuery"}],[{value:"sv",label:"Svelte"},{value:"rw",label:"Redwood"},{value:"np",label:"NumPy"},{value:"dj",label:"Django"},{value:"fl",label:"Flask"}]],classes:[{name:"Class #1",status:"admin"},{name:"Class #2",status:"admin"},{name:"Class #3",status:"member"},{name:"Class #4",status:"member"},{name:"Class #5",status:"archived"},{name:"Class #6",status:"archived"}]},ClassListPage_stories={title:"Page/Class/ClassListPage",component:ClassListPage,tags:["autodocs"],parameters:{layout:"fullscreen"}},Template={args:{data:{members:MOCK_DATA.members,classes:[],summary:[{title:"Classes",value:MOCK_DATA.classes.length,description:"Total # of classes"},{title:"Students",value:10,description:"Total # of students"}]}},render:args=>(0,jsx_runtime.jsx)("div",{className:"h-full w-full overscroll-none font-proxima",children:(0,jsx_runtime.jsx)(dist.VA,{children:(0,jsx_runtime.jsx)(AppLayout.L,{...args,page:(0,jsx_runtime.jsx)(ClassListPage,{...args})})})})},Empty={...Template},WithClasses={...Template,args:{...Template.args,data:{...MOCK_DATA,summary:[{title:"Classes",value:MOCK_DATA.classes.length,description:"Total # of classes"},{title:"Students",value:10,description:"Total # of students"}]}}},Joined={...Template,args:{...Template.args,data:{...MOCK_DATA,classes:MOCK_DATA.classes.filter((a=>"member"===a.status)),summary:[{title:"Classes",value:MOCK_DATA.classes.length,description:"Total # of classes"},{title:"Students",value:10,description:"Total # of students"}]}}},Archived={...Template,args:{...Template.args,data:{...MOCK_DATA,classes:MOCK_DATA.classes.filter((a=>"archived"===a.status)),summary:[{title:"Classes",value:MOCK_DATA.classes.length,description:"Total # of classes"},{title:"Students",value:10,description:"Total # of students"}]}}};Empty.parameters={...Empty.parameters,docs:{...Empty.parameters?.docs,source:{originalSource:"{\n  ...Template\n}",...Empty.parameters?.docs?.source}}},WithClasses.parameters={...WithClasses.parameters,docs:{...WithClasses.parameters?.docs,source:{originalSource:'{\n  ...Template,\n  args: {\n    ...Template.args,\n    data: {\n      ...MOCK_DATA,\n      summary: [{\n        title: "Classes",\n        value: MOCK_DATA.classes.length,\n        description: "Total # of classes"\n      }, {\n        title: "Students",\n        value: 10,\n        description: "Total # of students"\n      }]\n    }\n  }\n}',...WithClasses.parameters?.docs?.source}}},Joined.parameters={...Joined.parameters,docs:{...Joined.parameters?.docs,source:{originalSource:'{\n  ...Template,\n  args: {\n    ...Template.args,\n    data: {\n      ...MOCK_DATA,\n      classes: MOCK_DATA.classes.filter(a => a.status === \'member\'),\n      summary: [{\n        title: "Classes",\n        value: MOCK_DATA.classes.length,\n        description: "Total # of classes"\n      }, {\n        title: "Students",\n        value: 10,\n        description: "Total # of students"\n      }]\n    }\n  }\n}',...Joined.parameters?.docs?.source}}},Archived.parameters={...Archived.parameters,docs:{...Archived.parameters?.docs,source:{originalSource:'{\n  ...Template,\n  args: {\n    ...Template.args,\n    data: {\n      ...MOCK_DATA,\n      classes: MOCK_DATA.classes.filter(a => a.status === \'archived\'),\n      summary: [{\n        title: "Classes",\n        value: MOCK_DATA.classes.length,\n        description: "Total # of classes"\n      }, {\n        title: "Students",\n        value: 10,\n        description: "Total # of students"\n      }]\n    }\n  }\n}',...Archived.parameters?.docs?.source}}};const __namedExportsOrder=["Empty","WithClasses","Joined","Archived"]},"./src/components/core/data/DataTransferList.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>DataTransferList});__webpack_require__("./node_modules/react/index.js");var _mantine_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mantine/core/esm/TransferList/TransferList.js"),_mantine_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mantine/core/esm/Group/Group.js"),_mantine_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mantine/core/esm/Text/Text.js"),_mantine_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@mantine/core/esm/Checkbox/Checkbox.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function DataTransferList(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mantine_core__WEBPACK_IMPORTED_MODULE_2__.J,{miw:200,searchPlaceholder:"Search",titles:["Available","Selected"],listHeight:300,breakpoint:"sm",filter:(query,item)=>item.label.toLowerCase().includes(query.toLowerCase().trim()),itemComponent:ItemComponent,...props})}function ItemComponent(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mantine_core__WEBPACK_IMPORTED_MODULE_3__.Z,{noWrap:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{style:{flex:1},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mantine_core__WEBPACK_IMPORTED_MODULE_4__.x,{size:"sm",weight:500,children:props.data.label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mantine_core__WEBPACK_IMPORTED_MODULE_4__.x,{size:"xs",color:"dimmed",weight:400,children:props.data.description})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mantine_core__WEBPACK_IMPORTED_MODULE_5__.X,{checked:props.selected,onChange:()=>{},tabIndex:-1,sx:{pointerEvents:"none"}})]})}DataTransferList.displayName="DataTransferList",ItemComponent.displayName="ItemComponent";try{DataTransferList.displayName="DataTransferList",DataTransferList.__docgenInfo={description:"DataTransferList",displayName:"DataTransferList",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/core/data/DataTransferList.tsx#DataTransferList"]={docgenInfo:DataTransferList.__docgenInfo,name:"DataTransferList",path:"src/components/core/data/DataTransferList.tsx#DataTransferList"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/core/placeholder/PlaceholderBanner.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>PlaceholderBanner});__webpack_require__("./node_modules/react/index.js");var _mantine_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mantine/styles/esm/tss/create-styles.js"),_mantine_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mantine/styles/esm/theme/utils/rem/rem.js"),_mantine_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mantine/core/esm/Group/Group.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const useStyles=(0,_mantine_core__WEBPACK_IMPORTED_MODULE_2__.k)((theme=>({wrapper:{display:"flex",alignItems:"center",borderRadius:theme.radius.md,backgroundColor:"dark"===theme.colorScheme?theme.colors.dark[8]:theme.white,border:`1px solid ${"dark"===theme.colorScheme?theme.colors.dark[8]:theme.colors.gray[3]}`,[`@media (max-width: ${theme.breakpoints.sm}px)`]:{flexDirection:"column-reverse",padding:theme.spacing.xl}},title:{fontFamily:`Greycliff CF, ${theme.fontFamily}`,textAlign:"center",fontWeight:900,fontSize:(0,_mantine_core__WEBPACK_IMPORTED_MODULE_3__.h)(100),maxWidth:"50rem",lineHeight:1,marginBottom:`calc(${theme.spacing.xl} * 1.5)`,color:"dark"===theme.colorScheme?theme.colors.dark[4]:theme.colors.gray[2],[theme.fn.smallerThan("sm")]:{fontSize:(0,_mantine_core__WEBPACK_IMPORTED_MODULE_3__.h)(50)}}})));function PlaceholderBanner(props){const{classes}=useStyles();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mantine_core__WEBPACK_IMPORTED_MODULE_4__.Z,{spacing:20,p:50,className:classes.wrapper,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:classes.title,children:props.title})})}PlaceholderBanner.displayName="PlaceholderBanner";try{PlaceholderBanner.displayName="PlaceholderBanner",PlaceholderBanner.__docgenInfo={description:"PlaceholderBanner",displayName:"PlaceholderBanner",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/core/placeholder/PlaceholderBanner.tsx#PlaceholderBanner"]={docgenInfo:PlaceholderBanner.__docgenInfo,name:"PlaceholderBanner",path:"src/components/core/placeholder/PlaceholderBanner.tsx#PlaceholderBanner"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/core/summary/SummaryGrid.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>SummaryGrid});__webpack_require__("./node_modules/react/index.js");var _mantine_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mantine/styles/esm/tss/create-styles.js"),_mantine_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@mantine/core/esm/Paper/Paper.js"),_mantine_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@mantine/core/esm/Group/Group.js"),_mantine_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@mantine/core/esm/Text/Text.js"),_mantine_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@mantine/core/esm/ThemeIcon/ThemeIcon.js"),_mantine_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@mantine/core/esm/SimpleGrid/SimpleGrid.js"),_tabler_icons_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconPointFilled.js"),_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconArrowUpRight.js"),_tabler_icons_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@tabler/icons-react/dist/esm/icons/IconArrowDownRight.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const useStyles=(0,_mantine_core__WEBPACK_IMPORTED_MODULE_2__.k)((theme=>({label:{fontFamily:`Greycliff CF, ${theme.fontFamily}`}})));function SummaryGrid(props){const{classes}=useStyles(),stats=props.data.map((stat=>{const DiffIcon=stat.diff?stat.diff>0?_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.Z:_tabler_icons_react__WEBPACK_IMPORTED_MODULE_5__.Z:_tabler_icons_react__WEBPACK_IMPORTED_MODULE_3__.Z;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mantine_core__WEBPACK_IMPORTED_MODULE_6__.X,{withBorder:!0,p:"md",radius:"md",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mantine_core__WEBPACK_IMPORTED_MODULE_7__.Z,{position:"apart",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mantine_core__WEBPACK_IMPORTED_MODULE_8__.x,{c:"dimmed",tt:"uppercase",fw:700,fz:"xs",className:classes.label,children:stat.title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mantine_core__WEBPACK_IMPORTED_MODULE_8__.x,{fw:700,fz:"xl",children:stat.value})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mantine_core__WEBPACK_IMPORTED_MODULE_9__.k,{color:"gray",variant:"light",sx:theme=>({color:stat.diff?stat.diff>0?theme.colors.teal[6]:theme.colors.red[6]:theme.colors.dark[2]}),size:38,radius:"md",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DiffIcon,{size:"1.8rem",stroke:1.5})})]}),!!stat.diff&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mantine_core__WEBPACK_IMPORTED_MODULE_8__.x,{c:"dimmed",fz:"sm",mt:"md",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_mantine_core__WEBPACK_IMPORTED_MODULE_8__.x,{component:"span",c:stat.diff>0?"teal":"red",fw:700,children:[stat.diff,"%"]})," ",stat.diff>0?"increase":"decrease"," compared to last month"]}),!stat.diff&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mantine_core__WEBPACK_IMPORTED_MODULE_8__.x,{c:"dimmed",fz:"sm",mt:"md",children:stat.description})]},stat.title)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_mantine_core__WEBPACK_IMPORTED_MODULE_10__.M,{cols:3,breakpoints:[{maxWidth:"sm",cols:1}],children:stats})}SummaryGrid.displayName="SummaryGrid";try{SummaryGrid.displayName="SummaryGrid",SummaryGrid.__docgenInfo={description:"SummaryGrid",displayName:"SummaryGrid",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"SummaryData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/core/summary/SummaryGrid.tsx#SummaryGrid"]={docgenInfo:SummaryGrid.__docgenInfo,name:"SummaryGrid",path:"src/components/core/summary/SummaryGrid.tsx#SummaryGrid"})}catch(__react_docgen_typescript_loader_error){}}}]);